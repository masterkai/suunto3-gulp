"use strict";var _createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Carousel=function(){function c(e,t,i,n,r,s){var a=this;_classCallCheck(this,c),this.carousel=e,this.imgContainer=t,this.leftBtn=i,this.rightBtn=n,this.images=r,this.timeout=s,this.sliderSize=this.carousel.clientWidth,this.index=0,this.resizeTimer=null,this.pagination=this.carousel.querySelector(".pagination"),this.interval=!!this.timeout&&setInterval(function(){return a.run()},this.timeout),this.resetSize(),this.windowResize(),this.controller(),this.createCircle(),this.addActiveCircle(this.index)}return _createClass(c,[{key:"currentIndex",value:function(){return this.index}},{key:"slideTo",value:function(e){this.index=e,this.changeImage(),this.addActiveCircle(e)}},{key:"controller",value:function(){var e=this,t=this;this.rightBtn.addEventListener("click",function(){t.index++,e.changeImage(),e.addActiveCircle(e.index),e.resetInterval(),e.currentIndex()}),this.leftBtn.addEventListener("click",function(){t.index--,e.changeImage(),e.addActiveCircle(e.index),e.resetInterval(),e.currentIndex()})}},{key:"windowResize",value:function(){var t=this;window.addEventListener("resize",function(e){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.resetSize()},500)})}},{key:"resetSize",value:function(){var t=this;this.index=0,this.changeImage(),this.sliderSize=this.carousel.clientWidth,window.innerWidth<=500?this.images.forEach(function(e){return e.style.width="100%"}):this.images.forEach(function(e){return e.style.width=""+t.carousel.clientWidth})}},{key:"createCircle",value:function(){for(var e=0;e<this.images.length;e++){var t=document.createElement("div");t.classList.add("circle"),this.pagination.insertAdjacentElement("afterbegin",t)}}},{key:"addActiveCircle",value:function(e){var t=this.pagination.querySelectorAll(".circle");t.forEach(function(e){return e.classList.remove("active")}),t[e].classList.add("active")}},{key:"run",value:function(){this.index++,this.changeImage(),this.addActiveCircle(this.index)}},{key:"resetInterval",value:function(){var e=this;this.timeout&&(console.log("interval has been reset!!"),clearInterval(this.interval),this.interval=setInterval(function(){return e.run()},this.timeout))}},{key:"changeImage",value:function(){this.index>this.images.length-1?this.index=0:this.index<0&&(this.index=this.images.length-1),this.imgContainer.style.transform="translateX("+-this.index*this.sliderSize+"px)"}}]),c}();
"use strict";$(function(){var a=this,s={last:0};$("#features").each(function(){var i=$(a).find(".flexContainer--feature").find(".feature"),c=$(a).find(".flexContainer--featureTop .watchBox").find(".watch");i.each(function(e,t){$(t).on("click",function(){c.eq(s.last).css({display:"none",opacity:0}),c.eq(e).css({display:"block",opacity:1}),s.last=e;var a=$(t);a.hasClass("active")||(i.removeClass("active"),a.addClass("active"))})}),i.eq(0).trigger("click")})});
"use strict";$("#GOTOP").click(function(){jQuery("html,body").animate({scrollTop:0},400)}),$(window).scroll(function(){120<$(this).scrollTop()?$("#GOTOP").fadeIn(300).addClass("active"):$("#GOTOP").stop().fadeOut(300).removeClass("active")});
"use strict";var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var YouTubeModal=function(){function n(e,t,a){_classCallCheck(this,n),this.videoId=e,this.playerId=t,this.playBtn=document.getElementById(a)?document.getElementById(a):null,this.player=void 0,this.onPlayerReady=this.onPlayerReady.bind(this),this.mountYouTubeApi(),this.controller()}return _createClass(n,[{key:"mountYouTubeApi",value:function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},{key:"createModalBody",value:function(){return'\n        <div class="Empy-modal-header Empy-modal-header--noContentOnlyCloseBtn"><button class="btn btn-empy-link closeBtn"></button></div>\n        <div class="Empy-modal-body">\n            <div id="'+this.playerId+'"></div>            \n        </div>'}},{key:"controller",value:function(){var e=this,t=document.createElement("div");t.className="Empy-mask";var a=document.createElement("div");a.className="Empy-modal",t.appendChild(a),this.playBtn&&this.playBtn.addEventListener("click",function(){a.textContent="",a.className="Empy-modal Empy-modal--youtube",a.insertAdjacentHTML("afterbegin",e.createModalBody()),document.body.insertAdjacentElement("afterbegin",t),document.querySelector(".closeBtn").addEventListener("click",function(){t.classList.remove("show"),e.pauseVideo()}),t.classList.add("show"),e.onYouTubeIframeAPIReady()})}},{key:"onYouTubeIframeAPIReady",value:function(){this.player=new YT.Player(this.playerId,{height:"315",width:"560",videoId:this.videoId,playerVars:{rel:0,showinfo:0,ecver:2},events:{onStateChange:this.onPlayerStateChange,onReady:this.onPlayerReady}})}},{key:"onPlayerReady",value:function(){console.log("video player is ready"),this.activateVideo()}},{key:"onPlayerStateChange",value:function(e){e.data==YT.PlayerState.PLAYING?console.log("player is playing"):console.log("player is not playing")}},{key:"stopVideo",value:function(){this.player.stopVideo()}},{key:"activateVideo",value:function(){this.player.playVideo()}},{key:"pauseVideo",value:function(){console.log("pause the video player and close the video modal."),this.player.pauseVideo()}}]),n}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhcm91c2VsLmpzIiwiZmVhdHVyZVRhYi5qcyIsImdvVG9wLmpzIiwieW91dHViZU1vZGFsLmpzIl0sIm5hbWVzIjpbIkNhcm91c2VsIiwiY2Fyb3VzZWwiLCJpbWdDb250YWluZXIiLCJsZWZ0QnRuIiwicmlnaHRCdG4iLCJpbWFnZXMiLCJ0aW1lb3V0IiwiX3RoaXMiLCJ0aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwic2xpZGVyU2l6ZSIsImNsaWVudFdpZHRoIiwiaW5kZXgiLCJyZXNpemVUaW1lciIsInBhZ2luYXRpb24iLCJxdWVyeVNlbGVjdG9yIiwic2V0SW50ZXJ2YWwiLCJydW4iLCJpbnRlcnZhbCIsInJlc2V0U2l6ZSIsIndpbmRvd1Jlc2l6ZSIsImNvbnRyb2xsZXIiLCJjcmVhdGVDaXJjbGUiLCJfdGhpczIiLCJ0aGF0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoYW5nZUltYWdlIiwiYWRkQWN0aXZlQ2lyY2xlIiwicmVzZXRJbnRlcnZhbCIsImN1cnJlbnRJbmRleCIsImV2ZW50IiwiY2xlYXJUaW1lb3V0IiwiX3RoaXMzIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImZvckVhY2giLCJpbWFnZSIsInN0eWxlIiwid2lkdGgiLCJzZXRUaW1lb3V0IiwiaSIsImNyZWF0ZUVsZW1lbnQiLCJkaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJjaXJjbGVzIiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW0iLCJyZW1vdmUiLCJjb25zb2xlIiwibG9nIiwiY2xlYXJJbnRlcnZhbCIsIl90aGlzNCIsImxlbmd0aCIsInRyYW5zZm9ybSIsIiQiLCJmZWF0dXJlVGFiU3RhdGUiLCJsYXN0IiwidGFiQW5jaG9ycyIsImZpbmQiLCJ3YXRjaGVzIiwidGFiTGlzdCIsImN1cnJlbnRUYWIiLCJvYmoiLCJ3YXRjaGVzQm94IiwiY3NzIiwiZGlzcGxheSIsIm9wYWNpdHkiLCJoYXNDbGFzcyIsIiR0aGlzIiwiYWRkQ2xhc3MiLCJjbGljayIsImpRdWVyeSIsImFuaW1hdGUiLCJzY3JvbGwiLCJzY3JvbGxUb3AiLCJmYWRlSW4iLCJzdG9wIiwiZmFkZU91dCIsInJlbW92ZUNsYXNzIiwiWW91VHViZU1vZGFsIiwidmlkZW9JZCIsInBsYXllcklkIiwicGxheUJ0biIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJwbGF5ZXIiLCJ1bmRlZmluZWQiLCJvblBsYXllclJlYWR5IiwiYmluZCIsIm1vdW50WW91VHViZUFwaSIsInRhZyIsInNyYyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZmlyc3RTY3JpcHRUYWciLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwibWFzayIsImNsYXNzTmFtZSIsIm1vZGFsIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZU1vZGFsQm9keSIsImJvZHkiLCJwYXVzZVZpZGVvIiwiaGVpZ2h0Iiwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkiLCJwbGF5ZXJWYXJzIiwicmVsIiwic2hvd2luZm8iLCJlY3ZlciIsImV2ZW50cyIsIm9uU3RhdGVDaGFuZ2UiLCJvblBsYXllclN0YXRlQ2hhbmdlIiwib25SZWFkeSIsImRhdGEiLCJZVCIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsInN0b3BWaWRlbyJdLCJtYXBwaW5ncyI6ImlZQUFNQSxvQkFDSixTQUFBQSxFQUFZQyxFQUFVQyxFQUFjQyxFQUFTQyxFQUFVQyxFQUFRQyxHQUFTLElBQUFDLEVBQUFDLEtBQUFDLGdCQUFBRCxLQUFBUixHQUN0RVEsS0FBS1AsU0FBV0EsRUFDaEJPLEtBQUtOLGFBQWVBLEVBQ3BCTSxLQUFLTCxRQUFVQSxFQUNmSyxLQUFLSixTQUFXQSxFQUxkSixLQUFBQSxPQU1ZSyxFQUxoQkcsS0FBQUYsUUFBQUEsRUFBd0VFLEtBQUFFLFdBQUFGLEtBQUFQLFNBQUFVLFlBUXRFSCxLQUFLSSxNQUFRLEVBUnlESixLQUFBSyxZQUFBLEtBVXRFTCxLQUFLTSxXQUFhTixLQUFLUCxTQUFTYyxjQUFjLGVBVDlDUCxL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QVMsV0FSdkQyRSxFQUFBRSxZQUFBLEdBQ0FGLEVBQU1GLFVBQU9iLGlDQUNiYSxFQUFLQyxtQkFBWSxhQUFqQjVGLEVBQUFnRyxtQkFDQWxCLFNBQUFtQixLQUFBM0Qsc0JBQUEsYUFBQXFELEdBQ2NiLFNBQVM1QyxjQUFULGFBQ1IwRCxpQkFBWSxRQUFsQixXQUNBRCxFQUFLRyxVQUFZRCxPQUFqQixRQVVJN0YsRUFBS2tHLGVBUFBMLEVBQUFBLFVBQU1FLElBQU4sUUFDQUYsRUFBQUEsOEVBTUU1RixLQUFBK0UsT0FBS2tCLElBQUFBLEdBQUFBLE9BQUxqRyxLQUFBMkUsU0FBQSxDQUNEdUIsT0FIRCxNQUlBUixNQUFLdkQsTUFDTHVDLFFBQUt5QixLQUFBQSxRQUVOQyxXQWJELENBQUFDLElBQUEsRUFBQUMsU0FBQSxFQUFBQyxNQUFBLEdBY0RDLE9BQUEsQ0FTS0MsY0FBaUJ6RyxLQUFLMEcsb0JBQ3RCQyxRQUFXM0csS0FBS2lGLHlEQUhsQm1CLFFBQUFBLElBQUFBLHlCQUNBSSxLQUFBQSw0REFBUWxGLEdBTFZBLEVBQUFzRixNQUFBQyxHQUFBQyxZQUFBQyxRQVVEckUsUUFBQUMsSUFBQSxxQkFXR0QsUUFBUUMsSUFBSSw2REFLZDNDLEtBQUsrRSxPQUFPaUMsb0RBUFZ0RSxLQUFBQSxPQUFRQyxpREFJWEQsUUFBQUMsSUFBQSxxREFZQzNDLEtBQUsrRSxPQUFPa0IiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYXJvdXNlbCB7XHJcbiAgY29uc3RydWN0b3IoY2Fyb3VzZWwsIGltZ0NvbnRhaW5lciwgbGVmdEJ0biwgcmlnaHRCdG4sIGltYWdlcywgdGltZW91dCkge1xyXG4gICAgdGhpcy5jYXJvdXNlbCA9IGNhcm91c2VsXHJcbiAgICB0aGlzLmltZ0NvbnRhaW5lciA9IGltZ0NvbnRhaW5lclxyXG4gICAgdGhpcy5sZWZ0QnRuID0gbGVmdEJ0blxyXG4gICAgdGhpcy5yaWdodEJ0biA9IHJpZ2h0QnRuXHJcbiAgICB0aGlzLmltYWdlcyA9IGltYWdlc1xyXG4gICAgdGhpcy50aW1lb3V0ID0gdGltZW91dFxyXG4gICAgdGhpcy5zbGlkZXJTaXplID0gdGhpcy5jYXJvdXNlbC5jbGllbnRXaWR0aFxyXG4gICAgdGhpcy5pbmRleCA9IDBcclxuICAgIHRoaXMucmVzaXplVGltZXIgPSBudWxsXHJcbiAgICB0aGlzLnBhZ2luYXRpb24gPSB0aGlzLmNhcm91c2VsLnF1ZXJ5U2VsZWN0b3IoJy5wYWdpbmF0aW9uJylcclxuICAgIHRoaXMuaW50ZXJ2YWwgPSB0aGlzLnRpbWVvdXQgPyBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnJ1bigpLCB0aGlzLnRpbWVvdXQpIDogZmFsc2VcclxuICAgIHRoaXMucmVzZXRTaXplKClcclxuICAgIHRoaXMud2luZG93UmVzaXplKClcclxuICAgIHRoaXMuY29udHJvbGxlcigpXHJcbiAgICB0aGlzLmNyZWF0ZUNpcmNsZSgpXHJcbiAgICB0aGlzLmFkZEFjdGl2ZUNpcmNsZSh0aGlzLmluZGV4KVxyXG4gIH1cclxuXHJcbiAgY3VycmVudEluZGV4KCkge1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5pbmRleCk7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleFxyXG4gIH1cclxuXHJcbiAgc2xpZGVUbyhpbmRleCkge1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4XHJcbiAgICB0aGlzLmNoYW5nZUltYWdlKClcclxuICAgIHRoaXMuYWRkQWN0aXZlQ2lyY2xlKGluZGV4KVxyXG4gIH1cclxuXHJcbiAgY29udHJvbGxlcigpIHtcclxuICAgIGNvbnN0IHRoYXQgPSB0aGlzXHJcbiAgICB0aGlzLnJpZ2h0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGF0LmluZGV4KytcclxuICAgICAgdGhpcy5jaGFuZ2VJbWFnZSgpXHJcbiAgICAgIHRoaXMuYWRkQWN0aXZlQ2lyY2xlKHRoaXMuaW5kZXgpXHJcbiAgICAgIHRoaXMucmVzZXRJbnRlcnZhbCgpXHJcbiAgICAgIHRoaXMuY3VycmVudEluZGV4KClcclxuICAgIH0pXHJcbiAgICB0aGlzLmxlZnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoYXQuaW5kZXgtLVxyXG4gICAgICB0aGlzLmNoYW5nZUltYWdlKClcclxuICAgICAgdGhpcy5hZGRBY3RpdmVDaXJjbGUodGhpcy5pbmRleClcclxuICAgICAgdGhpcy5yZXNldEludGVydmFsKClcclxuICAgICAgdGhpcy5jdXJyZW50SW5kZXgoKVxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG5cclxuICB3aW5kb3dSZXNpemUoKSB7XHJcbiAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBpZiAodGhhdC5yZXNpemVUaW1lcikgY2xlYXJUaW1lb3V0KHRoYXQucmVzaXplVGltZXIpO1xyXG4gICAgICB0aGF0LnJlc2l6ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhhdC5yZXNldFNpemUoKVxyXG4gICAgICB9LCA1MDApXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVzZXRTaXplKCkge1xyXG4gICAgdGhpcy5pbmRleCA9IDBcclxuICAgIHRoaXMuY2hhbmdlSW1hZ2UoKVxyXG4gICAgdGhpcy5zbGlkZXJTaXplID0gdGhpcy5jYXJvdXNlbC5jbGllbnRXaWR0aFxyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDUwMCkge1xyXG4gICAgICB0aGlzLmltYWdlcy5mb3JFYWNoKGltYWdlID0+IGltYWdlLnN0eWxlLndpZHRoID0gJzEwMCUnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pbWFnZXMuZm9yRWFjaChpbWFnZSA9PiBpbWFnZS5zdHlsZS53aWR0aCA9IGAke3RoaXMuY2Fyb3VzZWwuY2xpZW50V2lkdGh9YClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNyZWF0ZUNpcmNsZSgpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbWFnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2NpcmNsZScpXHJcbiAgICAgIHRoaXMucGFnaW5hdGlvbi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyYmVnaW4nLCBkaXYpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZGRBY3RpdmVDaXJjbGUoaW5kZXgpIHtcclxuICAgIGNvbnN0IGNpcmNsZXMgPSB0aGlzLnBhZ2luYXRpb24ucXVlcnlTZWxlY3RvckFsbCgnLmNpcmNsZScpXHJcbiAgICBjaXJjbGVzLmZvckVhY2goaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKVxyXG4gICAgY2lyY2xlc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICB9XHJcblxyXG4gIHJ1bigpIHtcclxuICAgIHRoaXMuaW5kZXgrK1xyXG4gICAgdGhpcy5jaGFuZ2VJbWFnZSgpXHJcbiAgICB0aGlzLmFkZEFjdGl2ZUNpcmNsZSh0aGlzLmluZGV4KVxyXG4gIH1cclxuXHJcbiAgcmVzZXRJbnRlcnZhbCgpIHtcclxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2ludGVydmFsIGhhcyBiZWVuIHJlc2V0ISEnKTtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxyXG4gICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5ydW4oKSwgdGhpcy50aW1lb3V0KVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIGNoYW5nZUltYWdlKCkge1xyXG4gICAgaWYgKHRoaXMuaW5kZXggPiB0aGlzLmltYWdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIHRoaXMuaW5kZXggPSAwXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuaW5kZXggPCAwKSB7XHJcbiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmltYWdlcy5sZW5ndGggLSAxXHJcbiAgICB9XHJcbiAgICB0aGlzLmltZ0NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgkey10aGlzLmluZGV4ICogdGhpcy5zbGlkZXJTaXplfXB4KWBcclxuICB9XHJcbn0iLCIkKGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBmZWF0dXJlVGFiU3RhdGUgPSB7XHJcbiAgICBsYXN0OiAwXHJcbiAgfVxyXG5cclxuICAkKCcjZmVhdHVyZXMnKS5lYWNoKCgpID0+IHtcclxuICAgIGNvbnN0IHRhYkxpc3QgPSAkKHRoaXMpLmZpbmQoJy5mbGV4Q29udGFpbmVyLS1mZWF0dXJlJyksXHJcbiAgICAgIHRhYkFuY2hvcnMgPSB0YWJMaXN0LmZpbmQoJy5mZWF0dXJlJyksXHJcbiAgICAgIHdhdGNoZXNCb3ggPSAkKHRoaXMpLmZpbmQoJy5mbGV4Q29udGFpbmVyLS1mZWF0dXJlVG9wIC53YXRjaEJveCcpLFxyXG4gICAgICB3YXRjaGVzID0gd2F0Y2hlc0JveC5maW5kKCcud2F0Y2gnKVxyXG4gICAgdGFiQW5jaG9ycy5lYWNoKChjdXJyZW50VGFiLCBvYmopID0+IHtcclxuICAgICAgJChvYmopLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3YXRjaGVzLmVxKGZlYXR1cmVUYWJTdGF0ZS5sYXN0KS5jc3Moe2Rpc3BsYXk6ICdub25lJywgb3BhY2l0eTogMH0pXHJcbiAgICAgICAgd2F0Y2hlcy5lcShjdXJyZW50VGFiKS5jc3Moe2Rpc3BsYXk6ICdibG9jaycsIG9wYWNpdHk6IDF9KVxyXG4gICAgICAgIGZlYXR1cmVUYWJTdGF0ZS5sYXN0ID0gY3VycmVudFRhYlxyXG5cclxuICAgICAgICBsZXQgJHRoaXMgPSAkKG9iailcclxuXHJcbiAgICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0YWJBbmNob3JzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICR0aGlzLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICB0YWJBbmNob3JzLmVxKDApLnRyaWdnZXIoJ2NsaWNrJylcclxuICB9KVxyXG59KSIsIiQoJyNHT1RPUCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICBqUXVlcnkoJ2h0bWwsYm9keScpLmFuaW1hdGUoXHJcbiAgICB7XHJcbiAgICAgIHNjcm9sbFRvcDogMFxyXG4gICAgfSxcclxuICAgIDQwMFxyXG4gIClcclxufSlcclxuJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAxMjApIHtcclxuICAgICQoJyNHT1RPUCcpLmZhZGVJbigzMDApLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gIH0gZWxzZSB7XHJcbiAgICAkKCcjR09UT1AnKS5zdG9wKCkuZmFkZU91dCgzMDApLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gIH1cclxufSkiLCJjbGFzcyBZb3VUdWJlTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKHZpZGVvSWQsIHBsYXllcklkLCBwbGF5QnRuKSB7XHJcbiAgICB0aGlzLnZpZGVvSWQgPSB2aWRlb0lkXHJcbiAgICB0aGlzLnBsYXllcklkID0gcGxheWVySWRcclxuICAgIHRoaXMucGxheUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBsYXlCdG4pID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGxheUJ0bikgOiBudWxsXHJcbiAgICB0aGlzLnBsYXllciA9IHVuZGVmaW5lZFxyXG4gICAgdGhpcy5vblBsYXllclJlYWR5ID0gdGhpcy5vblBsYXllclJlYWR5LmJpbmQodGhpcylcclxuICAgIHRoaXMubW91bnRZb3VUdWJlQXBpKClcclxuICAgIHRoaXMuY29udHJvbGxlcigpXHJcbiAgfVxyXG5cclxuXHJcbiAgbW91bnRZb3VUdWJlQXBpKCkge1xyXG4gICAgY29uc3QgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICB0YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCJcclxuXHJcbiAgICBjb25zdCBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcclxuICAgIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZywgZmlyc3RTY3JpcHRUYWcpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlTW9kYWxCb2R5KCkge1xyXG4gICAgcmV0dXJuIGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiRW1weS1tb2RhbC1oZWFkZXIgRW1weS1tb2RhbC1oZWFkZXItLW5vQ29udGVudE9ubHlDbG9zZUJ0blwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLWVtcHktbGluayBjbG9zZUJ0blwiPjwvYnV0dG9uPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJFbXB5LW1vZGFsLWJvZHlcIj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cIiR7dGhpcy5wbGF5ZXJJZH1cIj48L2Rpdj4gICAgICAgICAgICBcclxuICAgICAgICA8L2Rpdj5gXHJcbiAgfVxyXG5cclxuICBjb250cm9sbGVyKCkge1xyXG4gICAgLy8gQ3JlYXRlIEVtcHktbWFzayAmIEVtcHktbW9kYWxcclxuICAgIGNvbnN0IG1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgbWFzay5jbGFzc05hbWUgPSBcIkVtcHktbWFza1wiXHJcbiAgICAvLyBtYXNrLnNldEF0dHJpYnV0ZSgnZGF0YS1yZXZlYWwnLCBudWxsKVxyXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgbW9kYWwuY2xhc3NOYW1lID0gXCJFbXB5LW1vZGFsXCJcclxuICAgIG1hc2suYXBwZW5kQ2hpbGQobW9kYWwpXHJcblxyXG4gICAgdGhpcy5wbGF5QnRuICYmIHRoaXMucGxheUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgbW9kYWwudGV4dENvbnRlbnQgPSAnJ1xyXG4gICAgICBtb2RhbC5jbGFzc05hbWUgPSBcIkVtcHktbW9kYWwgRW1weS1tb2RhbC0teW91dHViZVwiXHJcbiAgICAgIG1vZGFsLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIHRoaXMuY3JlYXRlTW9kYWxCb2R5KCkpXHJcbiAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmJlZ2luJywgbWFzaylcclxuICAgICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2VCdG4nKVxyXG4gICAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBtYXNrLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG4gICAgICAgIHRoaXMucGF1c2VWaWRlbygpO1xyXG4gICAgICB9KVxyXG4gICAgICBtYXNrLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgICB0aGlzLm9uWW91VHViZUlmcmFtZUFQSVJlYWR5KClcclxuXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkoKSB7XHJcbiAgICB0aGlzLnBsYXllciA9IG5ldyBZVC5QbGF5ZXIodGhpcy5wbGF5ZXJJZCwge1xyXG4gICAgICBoZWlnaHQ6ICczMTUnLFxyXG4gICAgICB3aWR0aDogJzU2MCcsXHJcbiAgICAgIHZpZGVvSWQ6IHRoaXMudmlkZW9JZCxcclxuICAgICAgcGxheWVyVmFyczoge3JlbDogMCwgc2hvd2luZm86IDAsIGVjdmVyOiAyfSxcclxuICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiB0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2UsXHJcbiAgICAgICAgJ29uUmVhZHknOiB0aGlzLm9uUGxheWVyUmVhZHksXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb25QbGF5ZXJSZWFkeSgpIHtcclxuICAgIGNvbnNvbGUubG9nKCd2aWRlbyBwbGF5ZXIgaXMgcmVhZHknKTtcclxuICAgIHRoaXMuYWN0aXZhdGVWaWRlbygpO1xyXG4gIH1cclxuXHJcbiAgb25QbGF5ZXJTdGF0ZUNoYW5nZShldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmRhdGEgPT0gWVQuUGxheWVyU3RhdGUuUExBWUlORykge1xyXG4gICAgICBjb25zb2xlLmxvZygncGxheWVyIGlzIHBsYXlpbmcnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdwbGF5ZXIgaXMgbm90IHBsYXlpbmcnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0b3BWaWRlbygpIHtcclxuICAgIHRoaXMucGxheWVyLnN0b3BWaWRlbygpO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVWaWRlbygpIHtcclxuICAgIHRoaXMucGxheWVyLnBsYXlWaWRlbygpO1xyXG4gIH1cclxuXHJcbiAgcGF1c2VWaWRlbygpIHtcclxuICAgIGNvbnNvbGUubG9nKCdwYXVzZSB0aGUgdmlkZW8gcGxheWVyIGFuZCBjbG9zZSB0aGUgdmlkZW8gbW9kYWwuJyk7XHJcbiAgICB0aGlzLnBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgfVxyXG5cclxufSJdfQ==
